<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html">
  <title>NOAA API Tide Test</title>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <style type="text/css">
  table {
    width: 100%;
}
th {
    background: #f8f8f8;
    font-weight: bold;
    padding: 2px;
}
</style>
</head>

<div>
	<h1>NOAA API Tidetable test</h1>

	<p>Select a location to display tidal information.</p>

	<nav id="location">
		<ul>
			<li><a href="#" id="WA/Raymond">Raymond, WA</a></li>
			<li><a href="#" id="WA/South_Bend">South Bend, WA</a></li>
      <li><a href="#" id="WA/Nahcotta">Nahcotta, WA</a></li>
      <li><a href="#" id="WA/Ilwaco">Ilwaco, WA</a></li>
      <li><a href="#" id="WA/Chinook">Chinook, WA</a></li>
      <li><a href="#" id="WA/Naselle">Naselle, WA</a></li>
      <li><a href="#" id="OR/Astoria">Astoria, OR</a></li>
      <li><a href="#" id="OR/Nehalem">Nehalem, OR</a></li>
      <li><a href="#" id="OR/Garibaldi">Garibaldi, OR</a></li>
      <li><a href="#" id="OR/Tillamook">Tillamook, OR</a></li>
      <li><a href="#" id="OR/Lincoln_City">Lincoln City, OR</a></li>
      <li><a href="#" id="OR/Newport">Newport, OR</a></li>
      <li><a href="#" id="OR/Waldport">Waldport, OR</a></li>
		</ul>
	</nav>

  <p>Test data will be for the next five days.</p>
 

</div>

<script type="text/javascript">
$(function() {

  $('#location ul li a').on('click', function(e) {
    e.preventDefault();
    var location = $(this).attr('id');
    var apiKey = '17ec2d7c6c96095b';
    var resturl = "http://api.wunderground.com/api/" + apiKey + "/tide/q/" + location + ".json";

    $.ajax({
      url: resturl,
      type: "GET",
      dataType: "json",

      success: function(tide) {
        console.log(tide);
        var tdiv = $('#tideinfo');
        tdiv.html(JSON.stringify(tide, null, 4));
      }
    });
  });
});
</script>

<div>
  <table id="tideinfo">
    <tr>
        <th>Date</th>
        <th>Time</th>
        <th>Hgt</th>
    </tr>
</table>
</div>
</body>
</html>